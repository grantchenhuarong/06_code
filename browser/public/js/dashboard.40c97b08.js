webpackJsonp([6],{QYg8:function(t,e,a){"use strict";(function(t){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},s=a("I3G/"),o=i(s),r=a("PJh5"),h=(i(r),a("NYxO")),l=a("88le"),c=i(l);o.default.use(c.default),e.default={computed:n({},(0,h.mapState)(["serverInfo","userInfo"])),components:{},data:function(){return{chartColors:["#337ab7","#7FFFD4"],pageWidth:0,pageHeight:0,protocol:location.protocol,authViewHeight:80,timer:0,vods:{},duration:30,memData:{columns:["time","use"],rows:[]},memSettings:{area:!0,xAxisType:"time",yAxisType:["percent"],min:[0],max:[1],labelMap:{use:"使用"}},cpuData:{columns:["time","use"],rows:[]},vodData:{columns:["type","count"],rows:[]},vodSettings:{label:{show:!0,formatter:"{b}: {c}"},roseType:"area"},storeData:{columns:["Name","Used","FreeSpace"],rows:[]},storeSettings:{dimension:["Name"],metrics:["Used","FreeSpace"],stack:{store:["Used","FreeSpace"]},legendName:{Used:"已使用(G)",FreeSpace:"剩余(G)"},labelMap:{Used:"已使用(G)",FreeSpace:"剩余(G)"}},authData:{ChannelOnline:0,ChannelTotal:0,ChannelCount:0,DeviceOnline:0,DeviceTotal:0},bandwidthData:{columns:["time","use"],rows:[]},bandwidthSettings:{area:!0,xAxisType:"time",labelMap:{use:"使用(Mbps)"}}}},mounted:function(){var e=this;this.top(),this.timer1=setInterval(function(){e.top()},2e3),this.store(),this.timer2=setInterval(function(){e.store()},5e3),t(document).on("expanded.pushMenu",this.resizeCharts),t(document).on("collapsed.pushMenu",this.resizeCharts)},created:function(){var e=this;t(window).resize(function(){e.resize()}),this.initHeight()},beforeDestroy:function(){this.timer1&&(clearInterval(this.timer1),this.timer1=0),this.timer2&&(clearInterval(this.timer2),this.timer2=0),t(document).off("expanded.pushMenu",this.resizeCharts),t(document).off("collapsed.pushMenu",this.resizeCharts)},methods:{fullscreen:function(){this.$fullscreen.enter(this.$el.querySelector(".container-fluid"),{wrap:!1})},top:function(){var e=this;t.get("/api/v1/dashboard/top").then(function(t){var a=t.data;e.memData.rows=a.memData,e.cpuData.rows=a.cpuData})},store:function(){var e=this;t.get("/api/v1/dashboard/store").then(function(t){var a=t.data;e.storeData.rows=a}),t.get("/api/v1/dashboard/auth").then(function(t){var a=t.data;e.authData=a})},isIE:function(){return!!(window.ActiveXObject||"ActiveXObject"in window)},initHeight:function(){this.pageWidth=window.innerWidth,this.pageHeight=window.innerHeight,"number"!=typeof this.pageWidth&&("CSS1Compat"==document.compatMode?(this.pageWidth=document.documentElement.clientWidth,this.pageHeight=document.documentElement.clientHeight):(this.pageWidth=document.body.clientWidth,this.pageHeight=document.body.clientHeight)),this.pageHeight=this.pageHeight-140},resizeCharts:function(){this.$refs.storeChart.resize(),this.$refs.cpuChart.resize(),this.$refs.memChart.resize()},resize:function(){var e=window.innerWidth,a=window.innerHeight;"number"!=typeof pageWidth&&("CSS1Compat"==document.compatMode?(e=document.documentElement.clientWidth,a=document.documentElement.clientHeight):(e=document.body.clientWidth,a=document.body.clientHeight)),e==this.pageWidth&&a==this.pageHeight||(this.pageWidth=e,this.pageHeight=a),this.pageHeight>=screen.height?t(".qcontent .container-fluid").css("height",this.pageHeight+"px"):t(".qcontent .container-fluid").css("height",this.pageHeight-140+"px"),this.pageHeight>800?t(".auth-view").css("padding-top","16%"):this.pageHeight>630?t(".auth-view").css("padding-top","10%"):t(".auth-view").css("padding-top","2%")}}}}).call(e,a("0iPh"))},j7Vv:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"qcontent"},[a("div",{staticClass:"qcontent-header hidden-xs"},[t._v("服务器概览 "),a("button",{staticClass:"btn btn-xs btn-default full-btn",attrs:{type:"button",title:"点击大屏展示"},on:{click:function(e){e.preventDefault(),t.fullscreen(e)}}},[a("i",{staticClass:"fa fa-arrows-alt"})])]),t._v(" "),a("div",{staticClass:"container-fluid",style:"height:"+this.pageHeight+"px;min-height:500px;"},[a("div",{staticClass:"col-xs-12 col-md-6"},[a("div",{staticClass:"view-dashboard view-left"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-body"},[a("div",{staticClass:"col-md-12 panel-title"},[t._v("\r\n                            通道信息\r\n                        ")]),t._v(" "),a("div",{staticClass:"col-xs-6 auth-view",staticStyle:{"text-align":"center"}},[a("el-progress",{attrs:{color:"#337ab7",type:"circle",height:this.authViewHeight,width:this.authViewHeight,percentage:0==t.authData.DeviceTotal?0:parseFloat((t.authData.DeviceOnline/t.authData.DeviceTotal*100).toFixed(2))}}),t._v(" "),a("div",{staticClass:"auth-title"},[t._v("在线数:"),a("span",{staticClass:"auth-num"},[t._v(t._s(t.authData.DeviceOnline))]),a("br"),t._v("总设备:"),a("span",{staticClass:"auth-num"},[t._v(t._s(t.authData.DeviceTotal))])])],1),t._v(" "),a("div",{staticClass:"col-xs-6 auth-view",staticStyle:{"text-align":"center"}},[a("el-progress",{attrs:{color:"#337ab7",type:"circle",height:this.authViewHeight,width:this.authViewHeight,percentage:0==t.authData.ChannelTotal?0:parseFloat((t.authData.ChannelOnline/t.authData.ChannelTotal*100).toFixed(2))}}),t._v(" "),a("div",{staticClass:"auth-title"},[t._v("在线数:"),a("span",{staticClass:"auth-num"},[t._v(t._s(t.authData.ChannelOnline))]),a("br"),t._v("总通道:"),a("span",{staticClass:"auth-num"},[t._v(t._s(t.authData.ChannelTotal))])])],1)])])]),t._v(" "),a("div",{staticClass:"view-dashboard  view-left view-split"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-body"},[a("ve-bar",{ref:"storeChart",attrs:{height:"100%",colors:t.chartColors,data:t.storeData,settings:t.storeSettings,"legend-position":"bottom",title:{text:"存储使用",left:"center"}}})],1)])])]),t._v(" "),a("div",{staticClass:"col-xs-12 col-md-6"},[a("div",{staticClass:"view-dashboard view-right view-split-m"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-body"},[a("ve-line",{ref:"cpuChart",attrs:{height:"100%",colors:t.chartColors,data:t.cpuData,settings:t.memSettings,"legend-visible":!1,title:{text:"CPU使用",left:"center"}}})],1)])]),t._v(" "),a("div",{staticClass:"view-dashboard view-right view-split"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-body"},[a("ve-line",{ref:"memChart",attrs:{height:"100%",colors:t.chartColors,data:t.memData,settings:t.memSettings,"legend-visible":!1,title:{text:"内存使用",left:"center"}}})],1)])])])])])},n=[],s={render:i,staticRenderFns:n};e.a=s},"kXJ/":function(t,e,a){e=t.exports=a("FZ+f")(void 0),e.push([t.i,".qcontent .fullscreen[data-v-091e3e9f]{position:fixed;left:0;top:0;right:0;bottom:0;background-color:#ecf0f5}.qcontent .full-btn[data-v-091e3e9f]{margin-left:2px;margin-top:-3px}.qcontent .col-md-6[data-v-091e3e9f]{padding-left:0;padding-right:0;height:100%}.qcontent .panel-body[data-v-091e3e9f],.qcontent .panel[data-v-091e3e9f]{height:100%}.qcontent .panel-title[data-v-091e3e9f]{text-align:center;font-weight:700;font-size:18px}.qcontent .container-fluid[data-v-091e3e9f]{padding:10px 10px 20px}.qcontent[data-v-091e3e9f]{margin:-15px}.view-dashboard[data-v-091e3e9f]{height:50%}.view-left[data-v-091e3e9f]{margin-right:5px}.view-right[data-v-091e3e9f]{margin-left:5px}.view-split[data-v-091e3e9f]{margin-top:10px}.auth-live[data-v-091e3e9f],.auth-vlive[data-v-091e3e9f]{margin-top:6%}.auth-num[data-v-091e3e9f]{margin-top:20%;font-size:14px;font-weight:700;color:#337ab7}.auth-view[data-v-091e3e9f]{min-height:200px;padding-top:10%}.auth-title[data-v-091e3e9f]{font-size:12px;color:#1d3b55}.auth-promt-div[data-v-091e3e9f]{margin-top:10%}@media (max-width:992px){.col-md-6[data-v-091e3e9f]{width:100%}.container-fluid[data-v-091e3e9f]{height:100%!important}.view-dashboard[data-v-091e3e9f]{height:320px}.view-left[data-v-091e3e9f]{margin-right:0}.view-right[data-v-091e3e9f]{margin-left:0}.view-split-m[data-v-091e3e9f],.view-split[data-v-091e3e9f]{margin-top:10px}.auth-live[data-v-091e3e9f],.auth-vlive[data-v-091e3e9f]{margin-top:0}.auth-num[data-v-091e3e9f]{margin-top:20%;font-size:14px;font-weight:700;color:#337ab7}.auth-view[data-v-091e3e9f]{height:200px!important;padding-top:78px!important}.qcontent .container-fluid[data-v-091e3e9f]{padding-bottom:10px}}",""])},nsEv:function(t,e,a){var i=a("kXJ/");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("0c9ebc7e",i,!0)},"w+5F":function(t,e,a){"use strict";function i(t){a("nsEv")}Object.defineProperty(e,"__esModule",{value:!0});var n=a("QYg8"),s=a.n(n),o=a("j7Vv"),r=a("VU/8"),h=i,l=r(s.a,o.a,h,"data-v-091e3e9f",null);e.default=l.exports}});